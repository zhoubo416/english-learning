# æ–°æ¦‚å¿µè‹±è¯­å­¦ä¹ ç½‘ç«™

åŸºäº Nuxt.js æ„å»ºçš„ç°ä»£åŒ–æ–°æ¦‚å¿µè‹±è¯­åœ¨çº¿å­¦ä¹ å¹³å°ï¼Œé‡‡ç”¨éŸ³ä¹è½¯ä»¶é£æ ¼çš„ç•Œé¢è®¾è®¡ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **ğŸµ ç°ä»£éŸ³ä¹è½¯ä»¶é£æ ¼ç•Œé¢**: æ·±è‰²ä¸»é¢˜ + æ¸å˜èƒŒæ™¯ + æ¯›ç»ç’ƒæ•ˆæœ
- **ğŸ“š æ™ºèƒ½è¯¾ç¨‹ç›®å½•**: è‡ªåŠ¨æ‰«æéŸ³é¢‘æ–‡ä»¶ï¼Œæ”¯æŒæŠ˜å å±•å¼€çš„è¯¾ç¨‹åˆ—è¡¨
- **ğŸ§ ä¸“ä¸šéŸ³é¢‘æ’­æ”¾å™¨**: åº•éƒ¨å›ºå®šæ’­æ”¾å™¨ï¼Œæ”¯æŒè¿›åº¦æ§åˆ¶ã€éŸ³é‡è°ƒèŠ‚
- **ğŸ¤ æ­Œè¯å¼æ–‡æœ¬æ˜¾ç¤º**: å±…ä¸­é«˜äº®å½“å‰è¡Œï¼Œç‚¹å‡»è·³è½¬ï¼Œè‡ªåŠ¨æ»šåŠ¨å®šä½
- **ğŸŒˆ åŠ¨æ€è§†è§‰æ•ˆæœ**: æµ®åŠ¨éŸ³ç¬¦åŠ¨ç”» + èƒŒæ™¯å›¾ç‰‡ + æ¸å˜è‰²å½©
- **ğŸ“± å“åº”å¼è®¾è®¡**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸çš„è®¾å¤‡

## ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Nuxt.js 3
- **æ ·å¼æ¡†æ¶**: Tailwind CSS
- **å›¾æ ‡åº“**: Heroicons
- **éŸ³é¢‘å¤„ç†**: HTML5 Audio API
- **æ–‡ä»¶ç³»ç»Ÿ**: Node.js fs æ¨¡å—
- **UI è®¾è®¡**: ç°ä»£éŸ³ä¹è½¯ä»¶é£æ ¼

## ğŸ“ é¡¹ç›®ç»“æ„

```
english-learning/
â”œâ”€â”€ assert/                     # éŸ³é¢‘å’Œæ–‡æœ¬èµ„æºç›®å½•
â”‚   â”œâ”€â”€ æ–°æ¦‚å¿µè‹±è¯­ç¬¬1å†Œç¾éŸ³ï¼ˆMP3+LRCï¼‰/
â”‚   â”œâ”€â”€ æ–°æ¦‚å¿µè‹±è¯­ç¬¬2å†Œç¾éŸ³ï¼ˆMP3+LRCï¼‰/
â”‚   â”œâ”€â”€ æ–°æ¦‚å¿µè‹±è¯­ç¬¬3å†Œç¾éŸ³ï¼ˆMP3+LRCï¼‰/
â”‚   â””â”€â”€ æ–°æ¦‚å¿µè‹±è¯­ç¬¬4å†Œç¾éŸ³ï¼ˆMP3+LRCï¼‰/
â”œâ”€â”€ pages/                      # é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ index.vue              # ä¸»é¡µé¢
â”œâ”€â”€ server/api/                 # æœåŠ¡ç«¯API
â”‚   â”œâ”€â”€ lessons.get.ts         # è¯¾ç¨‹åˆ—è¡¨API
â”‚   â”œâ”€â”€ audio/[...path].get.ts # éŸ³é¢‘æ–‡ä»¶API
â”‚   â””â”€â”€ text/[book]/[lesson].get.ts # æ–‡æœ¬å†…å®¹API
â”œâ”€â”€ composables/               # ç»„åˆå¼å‡½æ•°
â”‚   â””â”€â”€ useLessons.ts         # è¯¾ç¨‹æ•°æ®ç®¡ç†
â”œâ”€â”€ assets/css/               # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ nuxt.config.ts           # Nuxté…ç½®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 16.x æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn åŒ…ç®¡ç†å™¨

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹åº”ç”¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## ğŸ“¦ éƒ¨ç½²è¯´æ˜

### 1. é™æ€éƒ¨ç½²ï¼ˆæ¨èï¼‰

ç”Ÿæˆé™æ€æ–‡ä»¶ç”¨äºéƒ¨ç½²åˆ°é™æ€æ‰˜ç®¡æœåŠ¡ï¼š

```bash
# ç”Ÿæˆé™æ€æ–‡ä»¶
npm run generate

# ç”Ÿæˆçš„æ–‡ä»¶åœ¨ .output/public ç›®å½•
# å¯ä»¥éƒ¨ç½²åˆ° Netlify, Vercel, GitHub Pages ç­‰
```

**Netlify éƒ¨ç½²æ­¥éª¤ï¼š**
1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ Netlify ä¸­è¿æ¥ GitHub ä»“åº“
3. è®¾ç½®æ„å»ºå‘½ä»¤ï¼š`npm run generate`
4. è®¾ç½®å‘å¸ƒç›®å½•ï¼š`.output/public`
5. ç‚¹å‡»éƒ¨ç½²

**Vercel éƒ¨ç½²æ­¥éª¤ï¼š**
1. å®‰è£… Vercel CLIï¼š`npm i -g vercel`
2. åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œï¼š`vercel`
3. æŒ‰æç¤ºå®Œæˆéƒ¨ç½²é…ç½®

### 2. æœåŠ¡å™¨ç«¯æ¸²æŸ“éƒ¨ç½²

æ„å»º SSR åº”ç”¨ï¼š

```bash
# æ„å»ºåº”ç”¨
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run preview
```

### 3. Docker éƒ¨ç½²

åˆ›å»º `Dockerfile`ï¼š

```dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["npm", "run", "preview"]
```

æ„å»ºå’Œè¿è¡Œï¼š

```bash
docker build -t english-learning .
docker run -p 3000:3000 english-learning
```

### 4. PM2 éƒ¨ç½²

ä½¿ç”¨ PM2 è¿›è¡Œè¿›ç¨‹ç®¡ç†ï¼š

```bash
# å®‰è£… PM2
npm install -g pm2

# æ„å»ºåº”ç”¨
npm run build

# å¯åŠ¨åº”ç”¨
pm2 start ecosystem.config.js
```

åˆ›å»º `ecosystem.config.js`ï¼š

```javascript
module.exports = {
  apps: [{
    name: 'english-learning',
    script: '.output/server/index.mjs',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    }
  }]
}
```

### 5. Nginx åå‘ä»£ç†

Nginx é…ç½®ç¤ºä¾‹ï¼š

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # é™æ€æ–‡ä»¶ç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

### 6. ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼š

```env
# ç”Ÿäº§ç¯å¢ƒé…ç½®
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# å¦‚æœéœ€è¦è‡ªå®šä¹‰èµ„æºè·¯å¾„
ASSETS_PATH=/path/to/your/assets
```

## ğŸ“– ä½¿ç”¨è¯´æ˜

1. **å‡†å¤‡èµ„æºæ–‡ä»¶**: å°†æ–°æ¦‚å¿µè‹±è¯­çš„éŸ³é¢‘æ–‡ä»¶ï¼ˆMP3ï¼‰å’Œæ­Œè¯æ–‡ä»¶ï¼ˆLRCï¼‰æ”¾ç½®åœ¨ `assert` ç›®å½•ä¸‹
2. **å¯åŠ¨åº”ç”¨**: ç³»ç»Ÿä¼šè‡ªåŠ¨æ‰«æå¹¶åŠ è½½æ‰€æœ‰è¯¾ç¨‹
3. **é€‰æ‹©è¯¾ç¨‹**: ç‚¹å‡»å·¦ä¾§è¯¾ç¨‹åˆ—è¡¨é€‰æ‹©è¦å­¦ä¹ çš„è¯¾ç¨‹
4. **éŸ³é¢‘æ’­æ”¾**: ä½¿ç”¨åº•éƒ¨æ’­æ”¾å™¨æ§åˆ¶éŸ³é¢‘æ’­æ”¾
5. **æ–‡æœ¬åŒæ­¥**: è¯¾æ–‡å†…å®¹ä¼šåœ¨å³ä¾§åŒºåŸŸåŒæ­¥é«˜äº®æ˜¾ç¤º
6. **äº¤äº’åŠŸèƒ½**: ç‚¹å‡»ä»»æ„æ–‡æœ¬è¡Œå¯è·³è½¬åˆ°å¯¹åº”æ—¶é—´ç‚¹

## ğŸ”§ API æ¥å£

- `GET /api/lessons` - è·å–æ‰€æœ‰è¯¾ç¨‹åˆ—è¡¨
- `GET /api/audio/[...path]` - è·å–éŸ³é¢‘æ–‡ä»¶æµ
- `GET /api/text/[book]/[lesson]` - è·å–è¯¾ç¨‹æ–‡æœ¬å’ŒLRCå†…å®¹

## ğŸ¨ ç•Œé¢ç‰¹è‰²

- **æ·±è‰²ä¸»é¢˜**: ç°ä»£éŸ³ä¹è½¯ä»¶é£æ ¼çš„æ·±è‰²ç•Œé¢
- **æ¯›ç»ç’ƒæ•ˆæœ**: åŠé€æ˜èƒŒæ™¯å’Œæ¨¡ç³Šæ•ˆæœ
- **æ¸å˜è‰²å½©**: ç´«ç²‰è‰²è°ƒçš„æ¸å˜é…è‰²æ–¹æ¡ˆ
- **åŠ¨æ€åŠ¨ç”»**: æµ®åŠ¨éŸ³ç¬¦å’Œå¹³æ»‘è¿‡æ¸¡æ•ˆæœ
- **æ­Œè¯æ˜¾ç¤º**: ç±»ä¼¼éŸ³ä¹è½¯ä»¶çš„æ­Œè¯æ»šåŠ¨æ•ˆæœ

## ğŸ”§ å¼€å‘è¯´æ˜

### æ–‡ä»¶å‘½åè§„èŒƒ

éŸ³é¢‘æ–‡ä»¶åº”éµå¾ªä»¥ä¸‹å‘½åè§„èŒƒï¼š
- MP3 æ–‡ä»¶ï¼š`001&002ï¼Excuse Me.mp3`
- LRC æ–‡ä»¶ï¼š`001&002ï¼Excuse Me.lrc`

### ç›®å½•ç»“æ„è¦æ±‚

```
assert/
â””â”€â”€ æ–°æ¦‚å¿µè‹±è¯­ç¬¬Xå†Œç¾éŸ³ï¼ˆMP3+LRCï¼‰/
    â””â”€â”€ NCEX-ç¾éŸ³-(MP3+LRC)/
        â”œâ”€â”€ 001&002ï¼Excuse Me.mp3
        â”œâ”€â”€ 001&002ï¼Excuse Me.lrc
        â””â”€â”€ ...
```

### è‡ªå®šä¹‰é…ç½®

å¯ä»¥åœ¨ `nuxt.config.ts` ä¸­ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š
- ç«¯å£å·
- é™æ€èµ„æºè·¯å¾„
- API è·¯ç”±å‰ç¼€

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **éŸ³é¢‘æ— æ³•æ’­æ”¾**
   - æ£€æŸ¥éŸ³é¢‘æ–‡ä»¶æ ¼å¼æ˜¯å¦ä¸º MP3
   - ç¡®è®¤æ–‡ä»¶è·¯å¾„æ­£ç¡®
   - æ£€æŸ¥æµè§ˆå™¨éŸ³é¢‘æƒé™

2. **è¯¾æ–‡ä¸æ˜¾ç¤º**
   - ç¡®è®¤ LRC æ–‡ä»¶å­˜åœ¨
   - æ£€æŸ¥ LRC æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

3. **è¯¾ç¨‹åˆ—è¡¨ä¸ºç©º**
   - æ£€æŸ¥ `assert` ç›®å½•æ˜¯å¦å­˜åœ¨
   - ç¡®è®¤ç›®å½•ç»“æ„ç¬¦åˆè¦æ±‚
   - æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

### æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº
- å¯ç”¨ Gzip å‹ç¼©
- é…ç½®é€‚å½“çš„ç¼“å­˜ç­–ç•¥
- ä¼˜åŒ–éŸ³é¢‘æ–‡ä»¶å¤§å°

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/AmazingFeature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some AmazingFeature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/AmazingFeature`
5. æ‰“å¼€ Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. æœç´¢å·²æœ‰çš„ Issues
3. åˆ›å»ºæ–°çš„ Issue å¹¶æä¾›è¯¦ç»†ä¿¡æ¯

---

**äº«å—æ‚¨çš„è‹±è¯­å­¦ä¹ ä¹‹æ—…ï¼** ğŸ‰